<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet">
  
  <link rel="stylesheet" href="/styles/global.css">
  <link rel="stylesheet" href="/styles/top-bar.css">
  <link rel="stylesheet" href="/styles/profile.css">
  <link rel="stylesheet" href="/styles/profile-analytics-price-graph.css">

  <title>Your Profile | Carousell</title>
</head>
<body>
  <main>
    <!-- <div id="profile-banner"></div> -->
    <div id="profile-top-section" class="card">
      <img src="/media/placeholder-profile-banner.jpg" alt="Profile banner" id="profile-banner">
      <div id="profile-menu-bar">
        <img id="profile-menu-bar-profile-picture" src="/media/placeholder-profile-picture.jpeg" alt="Profile picture">
        <div id="profile-menu-bar-actions">
          <div class="profile-tab-switcher"><span>Listings</span></div>
          <!-- <div class="profile-tab-switcher"><span>Reviews</span></div> -->
          <div class="profile-tab-switcher profile-tab-switcher-selected"><span>Coins</span></div>
          <!-- <div class="profile-tab-switcher"><span>Balance</span></div> -->
          <!-- <div class="profile-tab-switcher"><span>CarouBiz</span></div> -->
          <div id="green-points-profile-tab-switcher" class="profile-tab-switcher"><span>Green Points</span></div>
          <div id="analytics-profile-tab-switcher" class="profile-tab-switcher"><span>Analytics</span></div>
          <!-- <button id="edit-profile" class="primary-button"><span>Edit profile</span></button> -->
        </div>
      </div>
    </div>

    <div id="profile-main">
      <div id="user-info">
        <h1 id="username"></h1>
        <!-- <div id="user-rating-info">
          <span id="user-rating-score">5.0</span>
          <span id="user-rating-num-reviews">(10)</span>
          TODO: 5 stars here (they act as transparent windows into background div which fills them up)
          <span id="user-rating-reviews-link" class="material-icons">chevron_right</span>
        </div> -->
        <p>
          <span id="user-location">Singapore</span>
          &middot;
          <span id="user-account-age">Joined 1m ago</span>
        </p>
        <p>
          <span id="user-verified-status">Verified</span>
          <span id="user-verified-via-email" class="material-icons">mail_outline</span>
          <!-- <span id="user-verified-via-phone" class="material-icons">phone</span> -->
        </p>
        <p>
          <span id="follower-count">0 followers</span>
          &middot;
          <span id="following-count">0 following</span>
        </p>

        <button id="edit-profile" class="secondary-button" disabled>
          <span class="material-icons-outlined">edit</span>
          <span>Edit profile</span>
        </button>
        
        <hr>

        <div id="profile-views-info">
          <p>
            <span class="material-icons-outlined">visibility</span>
            <span id="profile-view-count">2</span>
          </p>
          <p>
            <span>people viewed your profile today</span>
          </p>
          <!-- <p>
            <span class="material-icons-outlined">campaign</span> 
            <span id="profile-promotion-status-sidebar">Profile promotion is inactive</span>
          </p> -->
        </div>
      </div>

      <div id="listings" class="profile-tab-content full-width-listings-container">
      </div>

      <div id="coins" class="profile-tab-content profile-tab-content-selected">
        <h2>Carousell Coins</h2>
        <div id="coins-summary" class="card">
          <img src="/media/carousell-coin.svg" alt="Carousell Coins logo">
          <div id="coins-summary-test">
            <div id="coins-count">32768</div>
            <div>Coins</div>
          </div>
          <button id="get-coins" class="platform-currency-action primary-button">
            <span class="material-icons-outlined">add</span>
            Get Coins
          </button>
          <button id="win-boosts" class="platform-currency-action primary-button">
            <span class="material-icons-outlined">casino</span>
            Win Boosts
          </button>
          <button id="redeem-boosts" class="platform-currency-action primary-button">
            <span class="material-icons-outlined">redeem</span>
            Redeem Boosts
          </button>
        </div>

        <h2>Coin transaction history</h2>
        <table class="platform-currency-transaction-history-table card">
          <tbody>
            <th>Boosts received</th>
            <th>Date</th>
            <th>Coins used</th>
            <tr>
              <td>512</td>
              <td>22 Jul 2021</td>
              <td>
                <span>
                  800
                  <img src="/media/carousell-coin.svg" alt="Green points logo">
                </span>
              </td>
            </tr>
            <tr>
              <td>4096</td>
              <td>22 Jul 2021</td>
              <td>
                <span>
                  800
                  <img src="/media/carousell-coin.svg" alt="Green points logo">
                </span>
              </td>
            </tr>
            <tr>
              <td>16777216</td>
              <td>22 Jul 2021</td>
              <td>
                <span>
                  3276800
                  <img src="/media/carousell-coin.svg" alt="Green points logo">
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div id="green-points" class="profile-tab-content">
        <div id="green-points-summary" class="card">
          <img src="/media/green-points.svg" alt="Green Points logo">
          <div id="green-points-summary-text">
            <div id="green-points-count">65536</div>
            <div>Green Points</div>
          </div>
          <button id="green-points-redeem-rewards" class="platform-currency-action primary-button">
            <span class="material-icons-outlined">redeem</span>
            Redeem rewards
          </button>
        </div>
        
        <h2>Green Points history</h2>
        <table class="platform-currency-transaction-history-table card">
          <tr>
            <th>Item</th>
            <th>Date</th>
            <th>Points used</th>
          </tr>
          <tbody id="green-pts-hist"></tbody>
        </table>
      </div>

      <div id="analytics" class="profile-tab-content">
        <h2>Average prices per category</h2>
        <span>Graph shows 7-day rolling average of category prices.</span>
        <div id="category-search">
          <div id="category-search-input-wrapper">
            <span class="material-icons">search</span>
            <input type="text" placeholder="Find a category">
          </div>
          <div id="category-search-results">
            <div id="no-category-search-results">No categories found.</div>
          </div>
          <div id="category-options"></div>
        </div>
        <div id="price-graph-wrapper" class="card">
          <svg id="price-graph">
            <text x="0" y="12" id="vertical-axis-label">Price (S$)</text>
            <line y1="28" y2="calc(100% - 2em)" id="vertical-axis"></line>
            <line y1="calc(100% - 2em)" x2="100%" y2="calc(100% - 2em)" id="horizontal-axis"></line>
          </svg>
        </div>
      </div>
    </div>
  </main>

  <script src="/scripts/global.js"></script>
  <script src="/scripts/profile.js" defer></script>
  <script src="/scripts/utils.js"></script>
</body>
</html>